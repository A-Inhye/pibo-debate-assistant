<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Debate Support System</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&family=Source+Sans+3:wght@400;500;600&family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="live_transcription.css" />
</head>
<body>
    <div class="figure-container">
        <div class="interface-wrapper">
            <!-- Header -->
            <div class="header">
                <div class="header-left">
                    <div class="header-title">ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš©í˜• ììœ¨ ì§„í™”í˜• í† ë¡  ì¤‘ì¬ ì—ì´ì „íŠ¸</div>
                </div>
                <div class="header-right">
                    <div class="header-controls">
                        <!-- ë…¹ìŒ ë²„íŠ¼ -->
                        <button id="recordButton" class="record-btn">
                            <div class="shape-container">
                                <div class="shape"></div>
                            </div>
                            <div class="recording-info">
                                <div class="wave-container">
                                    <canvas id="waveCanvas"></canvas>
                                </div>
                                <div class="timer">00:00</div>
                            </div>
                        </button>

                        <!-- ì„¤ì • ë²„íŠ¼ -->
                        <button id="settingsToggle" class="settings-toggle" title="ì„¤ì •">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- ì„¤ì • íŒ¨ë„ -->
            <div class="settings settings-panel" id="settingsPanel">
                <div class="settings-content">
                    <div class="field">
                        <label for="websocketInput">Websocket URL</label>
                        <input id="websocketInput" type="text" placeholder="ws://host:port/asr" />
                    </div>
                    <div class="field">
                        <label for="microphoneSelect">ë§ˆì´í¬ ì„ íƒ</label>
                        <select id="microphoneSelect">
                            <option value="">ê¸°ë³¸ ë§ˆì´í¬</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ìƒíƒœ ë©”ì‹œì§€ -->
            <p id="status" class="status-message"></p>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Left Panel: Transcript -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">Live Transcript</div>
                        <div class="panel-meta" id="utteranceCount">0 utterances</div>
                    </div>
                    <div class="panel-content transcript-container" id="transcript-container">
                        <div id="linesTranscript">
                            <!-- ì‹¤ì‹œê°„ ëŒ€í™”ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Summary -->
                <div class="panel">
                    <!-- íƒ€ì„ìŠ¤íƒ¬í”„ ìš”ì•½ ì„¹ì…˜ (ì‹¤ì‹œê°„) -->
                    <div class="panel-header">
                        <div class="panel-title">Timestamp Summary</div>
                        <div class="panel-meta" id="timestampSummaryCount">ì‹¤ì‹œê°„ ìš”ì•½</div>
                    </div>
                    <div class="panel-content timestamp-summary-container" id="timestampSummaryContainer">
                        <div id="timestampSummaries">
                            <div class="placeholder-message">
                                <div class="placeholder-icon">â±ï¸</div>
                                <p>ì‹¤ì‹œê°„ íƒ€ì„ìŠ¤íƒ¬í”„ ìš”ì•½ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    </div>

                    <!-- ì „ì²´ ìš”ì•½ ì„¹ì…˜ (ì¢…ë£Œ ì‹œ) -->
                    <div class="panel-header" style="margin-top: 20px; border-top: 1px solid #e5e5e5; padding-top: 15px;">
                        <div class="panel-title">Full Summary</div>
                        <div class="panel-meta">AI ìš”ì•½ (GPT-4o)</div>
                    </div>
                    <div class="panel-content">
                        <div id="speakerSummary">
                            <div class="placeholder-message">
                                <div class="placeholder-icon">ğŸ“‹</div>
                                <p>AI will summarize the conversation when recording ends.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="live_transcription.js"></script>
</body>
</html>
